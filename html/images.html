<!DOCTYPE html>
<html lang="en" style="font-size: 10px; font-family: Roboto, Arial, sans-serif; background-color: #FAFAFA">
<head>
    <meta charset="UTF-8">
    <title>V-Image</title>
    <script src="../js/jquery-3.3.1.js"></script>
    <script src="../js/common.js"></script>
</head>
<link rel="stylesheet" type="text/css" href="../css/index.css">

<script>

    function getAlbumDiv(index, images, total, path) {
        switch (total) {
            case 0:
                return ``;
                break;

            case 1:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                    </div>
                    `;
                break;

            case 2:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            case 3:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            case 4:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            case 5:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            case 6:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            case 7:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
                break;

            default:
                return `
                    <div style="display: block; position: absolute; top: ${index * 450 + 120}px;">
                        <img style="width: 410px; height: 410px; object-fit: cover; position: absolute; left: 0px; top: 0px; border-radius: 5px" src="${images[0]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 0px; border-radius: 5px" src="${images[1]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 420px; top: 210px; border-radius: 5px" src="${images[2]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 0px; border-radius: 5px" src="${images[3]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 630px; top: 210px; border-radius: 5px" src="${images[4]}" loading="lazy">
                        <img style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 0px; border-radius: 5px" src="${images[5]}" loading="lazy">
                        <span style="width: 200px; height: 200px; object-fit: cover; position: absolute; left: 840px; top: 210px; border-radius: 5px; cursor: pointer; background-color: #333333; color: white; font-size: 5em; text-align: center; line-height: 200px">${total - 6}+</span>
                    </div>
                `;
        }
    }
</script>
<body>


<table align="center" width="1050px" border="0px">
    <tr>

        <td>
            <div style="display: flex; background: #FAFAFA">
                <img src="../img/logo.png" width="160px" height="80px" style="cursor: pointer">

                <div style="display: block; line-height: 80px">
                    <span style="font-size: 2em; color: #F44336; margin-left: 20px"><b>图集</b></span>
                    <span class="nav-title" onclick="window.open('./management.html');">标签管理</span>
                    <span class="nav-title" onclick="window.open('./management.html');">资源管理</span>
                    <span class="nav-title" onclick="window.open('./index.html');">视频</span>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div id="album-list"></div>
        </td>
    </tr>
</table>
</body>

<script>
    $.ajax({
        crossDomain: true,
        url: "http://localhost:8880/information",
        data: {type: "image-album-list"},
        method: "GET",
        dataType: "json",
        success: function (data) {
            if (data.code == 0 && data.data != null) {
                updateImageAlbums(data.data.albums)
            }
        }
    });

    function updateImageAlbums(albums) {
        console.log(albums)

        var div = "";
        for (var i = 0; i < albums.length; i++) {
            div = div + getAlbumDiv(i, albums[i].images, albums[i].count, albums[i].path);
        }

        document.getElementById("album-list").innerHTML = div;
    }

    function queryAlbumDetail(name) {
        $.ajax({
            crossDomain: true,
            url: "http://localhost:8880/information",
            data: {type: "image-album-detail", album_name: name},
            method: "GET",
            dataType: "json",
            success: function (data) {
                if (data.code == 0 && data.data != null) {
                    updateAlbumDetail(data.data.name, data.data.images);
                }
            }
        });
    }

    function updateAlbumDetail(name, images) {
        console.log("name=" + name);
        console.log("images=" + images)
    }
</script>
</html>